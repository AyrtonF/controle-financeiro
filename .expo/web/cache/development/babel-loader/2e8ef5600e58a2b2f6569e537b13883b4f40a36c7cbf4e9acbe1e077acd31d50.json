{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { createContext, useContext, useState } from \"react\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar FinanceContext = createContext(undefined);\nexport var useFinance = function useFinance() {\n  var context = useContext(FinanceContext);\n  if (!context) {\n    throw new Error(\"useFinance must be used within a FinanceProvider\");\n  }\n  return context;\n};\nexport var FinanceProvider = function FinanceProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState([{\n      id: \"1\",\n      type: \"income\",\n      amount: 5000,\n      description: \"Sal√°rio\",\n      category: \"Trabalho\",\n      date: new Date().toISOString()\n    }, {\n      id: \"2\",\n      type: \"expense\",\n      amount: 1200,\n      description: \"Aluguel\",\n      category: \"Moradia\",\n      date: new Date().toISOString()\n    }, {\n      id: \"3\",\n      type: \"expense\",\n      amount: 300,\n      description: \"Supermercado\",\n      category: \"Alimenta√ß√£o\",\n      date: new Date().toISOString()\n    }]),\n    _useState2 = _slicedToArray(_useState, 2),\n    transactions = _useState2[0],\n    setTransactions = _useState2[1];\n  var addTransaction = function addTransaction(transaction) {\n    var newTransaction = _objectSpread(_objectSpread({}, transaction), {}, {\n      id: Date.now().toString(),\n      date: new Date().toISOString()\n    });\n    setTransactions(function (prev) {\n      return [newTransaction].concat(_toConsumableArray(prev));\n    });\n  };\n  var removeTransaction = function removeTransaction(id) {\n    console.log(\"üî• REMOVENDO TRANSA√á√ÉO - ID:\", id);\n    console.log(\"üî• Total de transa√ß√µes antes:\", transactions.length);\n    setTransactions(function (prev) {\n      var filtered = prev.filter(function (transaction) {\n        var shouldKeep = transaction.id !== id;\n        if (!shouldKeep) {\n          console.log(\"üóëÔ∏è Removendo transa√ß√£o:\", transaction.description);\n        }\n        return shouldKeep;\n      });\n      console.log(\"üî• Total de transa√ß√µes depois:\", filtered.length);\n      return filtered;\n    });\n  };\n  var getTotalIncome = function getTotalIncome() {\n    return transactions.filter(function (transaction) {\n      return transaction.type === \"income\";\n    }).reduce(function (total, transaction) {\n      return total + transaction.amount;\n    }, 0);\n  };\n  var getTotalExpenses = function getTotalExpenses() {\n    return transactions.filter(function (transaction) {\n      return transaction.type === \"expense\";\n    }).reduce(function (total, transaction) {\n      return total + transaction.amount;\n    }, 0);\n  };\n  var getBalance = function getBalance() {\n    return getTotalIncome() - getTotalExpenses();\n  };\n  var getTransactionsByCategory = function getTransactionsByCategory() {\n    var categorySums = {};\n    transactions.forEach(function (transaction) {\n      if (categorySums[transaction.category]) {\n        categorySums[transaction.category] += transaction.amount;\n      } else {\n        categorySums[transaction.category] = transaction.amount;\n      }\n    });\n    return categorySums;\n  };\n  var value = {\n    transactions: transactions,\n    addTransaction: addTransaction,\n    removeTransaction: removeTransaction,\n    getTotalIncome: getTotalIncome,\n    getTotalExpenses: getTotalExpenses,\n    getBalance: getBalance,\n    getTransactionsByCategory: getTransactionsByCategory\n  };\n  return _jsx(FinanceContext.Provider, {\n    value: value,\n    children: children\n  });\n};","map":{"version":3,"names":["React","createContext","useContext","useState","jsx","_jsx","FinanceContext","undefined","useFinance","context","Error","FinanceProvider","_ref","children","_useState","id","type","amount","description","category","date","Date","toISOString","_useState2","_slicedToArray","transactions","setTransactions","addTransaction","transaction","newTransaction","_objectSpread","now","toString","prev","concat","_toConsumableArray","removeTransaction","console","log","length","filtered","filter","shouldKeep","getTotalIncome","reduce","total","getTotalExpenses","getBalance","getTransactionsByCategory","categorySums","forEach","value","Provider"],"sources":["C:/Users/Ayrton/Music/code/atividade/src/context/FinanceContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from \"react\";\r\n\r\nexport interface Transaction {\r\n  id: string;\r\n  type: \"income\" | \"expense\";\r\n  amount: number;\r\n  description: string;\r\n  category: string;\r\n  date: string;\r\n}\r\n\r\ninterface FinanceContextData {\r\n  transactions: Transaction[];\r\n  addTransaction: (transaction: Omit<Transaction, \"id\" | \"date\">) => void;\r\n  removeTransaction: (id: string) => void;\r\n  getTotalIncome: () => number;\r\n  getTotalExpenses: () => number;\r\n  getBalance: () => number;\r\n  getTransactionsByCategory: () => { [key: string]: number };\r\n}\r\n\r\nconst FinanceContext = createContext<FinanceContextData | undefined>(undefined);\r\n\r\nexport const useFinance = (): FinanceContextData => {\r\n  const context = useContext(FinanceContext);\r\n  if (!context) {\r\n    throw new Error(\"useFinance must be used within a FinanceProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const FinanceProvider: React.FC<{ children: React.ReactNode }> = ({\r\n  children,\r\n}) => {\r\n  const [transactions, setTransactions] = useState<Transaction[]>([\r\n    {\r\n      id: \"1\",\r\n      type: \"income\",\r\n      amount: 5000,\r\n      description: \"Sal√°rio\",\r\n      category: \"Trabalho\",\r\n      date: new Date().toISOString(),\r\n    },\r\n    {\r\n      id: \"2\",\r\n      type: \"expense\",\r\n      amount: 1200,\r\n      description: \"Aluguel\",\r\n      category: \"Moradia\",\r\n      date: new Date().toISOString(),\r\n    },\r\n    {\r\n      id: \"3\",\r\n      type: \"expense\",\r\n      amount: 300,\r\n      description: \"Supermercado\",\r\n      category: \"Alimenta√ß√£o\",\r\n      date: new Date().toISOString(),\r\n    },\r\n  ]);\r\n\r\n  const addTransaction = (transaction: Omit<Transaction, \"id\" | \"date\">) => {\r\n    const newTransaction: Transaction = {\r\n      ...transaction,\r\n      id: Date.now().toString(),\r\n      date: new Date().toISOString(),\r\n    };\r\n\r\n    setTransactions((prev) => [newTransaction, ...prev]);\r\n  };\r\n\r\n  const removeTransaction = (id: string) => {\r\n    console.log(\"üî• REMOVENDO TRANSA√á√ÉO - ID:\", id);\r\n    console.log(\"üî• Total de transa√ß√µes antes:\", transactions.length);\r\n\r\n    setTransactions((prev) => {\r\n      const filtered = prev.filter((transaction) => {\r\n        const shouldKeep = transaction.id !== id;\r\n        if (!shouldKeep) {\r\n          console.log(\"üóëÔ∏è Removendo transa√ß√£o:\", transaction.description);\r\n        }\r\n        return shouldKeep;\r\n      });\r\n\r\n      console.log(\"üî• Total de transa√ß√µes depois:\", filtered.length);\r\n      return filtered;\r\n    });\r\n  };\r\n\r\n  const getTotalIncome = (): number => {\r\n    return transactions\r\n      .filter((transaction) => transaction.type === \"income\")\r\n      .reduce((total, transaction) => total + transaction.amount, 0);\r\n  };\r\n\r\n  const getTotalExpenses = (): number => {\r\n    return transactions\r\n      .filter((transaction) => transaction.type === \"expense\")\r\n      .reduce((total, transaction) => total + transaction.amount, 0);\r\n  };\r\n\r\n  const getBalance = (): number => {\r\n    return getTotalIncome() - getTotalExpenses();\r\n  };\r\n\r\n  const getTransactionsByCategory = (): { [key: string]: number } => {\r\n    const categorySums: { [key: string]: number } = {};\r\n\r\n    transactions.forEach((transaction) => {\r\n      if (categorySums[transaction.category]) {\r\n        categorySums[transaction.category] += transaction.amount;\r\n      } else {\r\n        categorySums[transaction.category] = transaction.amount;\r\n      }\r\n    });\r\n\r\n    return categorySums;\r\n  };\r\n\r\n  // Valores fornecidos pelo contexto\r\n  const value: FinanceContextData = {\r\n    transactions,\r\n    addTransaction,\r\n    removeTransaction,\r\n    getTotalIncome,\r\n    getTotalExpenses,\r\n    getBalance,\r\n    getTransactionsByCategory,\r\n  };\r\n\r\n  return (\r\n    <FinanceContext.Provider value={value}>{children}</FinanceContext.Provider>\r\n  );\r\n};\r\n"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,QAAmB,OAAO;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAqB9E,IAAMC,cAAc,GAAGL,aAAa,CAAiCM,SAAS,CAAC;AAE/E,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAA6B;EAClD,IAAMC,OAAO,GAAGP,UAAU,CAACI,cAAc,CAAC;EAC1C,IAAI,CAACG,OAAO,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,kDAAkD,CAAC;EACrE;EACA,OAAOD,OAAO;AAChB,CAAC;AAED,OAAO,IAAME,eAAwD,GAAG,SAA3DA,eAAwDA,CAAAC,IAAA,EAE/D;EAAA,IADJC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EAER,IAAAC,SAAA,GAAwCX,QAAQ,CAAgB,CAC9D;MACEY,EAAE,EAAE,GAAG;MACPC,IAAI,EAAE,QAAQ;MACdC,MAAM,EAAE,IAAI;MACZC,WAAW,EAAE,SAAS;MACtBC,QAAQ,EAAE,UAAU;MACpBC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IAC/B,CAAC,EACD;MACEP,EAAE,EAAE,GAAG;MACPC,IAAI,EAAE,SAAS;MACfC,MAAM,EAAE,IAAI;MACZC,WAAW,EAAE,SAAS;MACtBC,QAAQ,EAAE,SAAS;MACnBC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IAC/B,CAAC,EACD;MACEP,EAAE,EAAE,GAAG;MACPC,IAAI,EAAE,SAAS;MACfC,MAAM,EAAE,GAAG;MACXC,WAAW,EAAE,cAAc;MAC3BC,QAAQ,EAAE,aAAa;MACvBC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IAC/B,CAAC,CACF,CAAC;IAAAC,UAAA,GAAAC,cAAA,CAAAV,SAAA;IAzBKW,YAAY,GAAAF,UAAA;IAAEG,eAAe,GAAAH,UAAA;EA2BpC,IAAMI,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,WAA6C,EAAK;IACxE,IAAMC,cAA2B,GAAAC,aAAA,CAAAA,aAAA,KAC5BF,WAAW;MACdb,EAAE,EAAEM,IAAI,CAACU,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;MACzBZ,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IAAC,EAC/B;IAEDI,eAAe,CAAC,UAACO,IAAI;MAAA,QAAMJ,cAAc,EAAAK,MAAA,CAAAC,kBAAA,CAAKF,IAAI;IAAA,CAAC,CAAC;EACtD,CAAC;EAED,IAAMG,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIrB,EAAU,EAAK;IACxCsB,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEvB,EAAE,CAAC;IAC/CsB,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEb,YAAY,CAACc,MAAM,CAAC;IAEjEb,eAAe,CAAC,UAACO,IAAI,EAAK;MACxB,IAAMO,QAAQ,GAAGP,IAAI,CAACQ,MAAM,CAAC,UAACb,WAAW,EAAK;QAC5C,IAAMc,UAAU,GAAGd,WAAW,CAACb,EAAE,KAAKA,EAAE;QACxC,IAAI,CAAC2B,UAAU,EAAE;UACfL,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEV,WAAW,CAACV,WAAW,CAAC;QAClE;QACA,OAAOwB,UAAU;MACnB,CAAC,CAAC;MAEFL,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEE,QAAQ,CAACD,MAAM,CAAC;MAC9D,OAAOC,QAAQ;IACjB,CAAC,CAAC;EACJ,CAAC;EAED,IAAMG,cAAc,GAAG,SAAjBA,cAAcA,CAAA,EAAiB;IACnC,OAAOlB,YAAY,CAChBgB,MAAM,CAAC,UAACb,WAAW;MAAA,OAAKA,WAAW,CAACZ,IAAI,KAAK,QAAQ;IAAA,EAAC,CACtD4B,MAAM,CAAC,UAACC,KAAK,EAAEjB,WAAW;MAAA,OAAKiB,KAAK,GAAGjB,WAAW,CAACX,MAAM;IAAA,GAAE,CAAC,CAAC;EAClE,CAAC;EAED,IAAM6B,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAAiB;IACrC,OAAOrB,YAAY,CAChBgB,MAAM,CAAC,UAACb,WAAW;MAAA,OAAKA,WAAW,CAACZ,IAAI,KAAK,SAAS;IAAA,EAAC,CACvD4B,MAAM,CAAC,UAACC,KAAK,EAAEjB,WAAW;MAAA,OAAKiB,KAAK,GAAGjB,WAAW,CAACX,MAAM;IAAA,GAAE,CAAC,CAAC;EAClE,CAAC;EAED,IAAM8B,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAiB;IAC/B,OAAOJ,cAAc,CAAC,CAAC,GAAGG,gBAAgB,CAAC,CAAC;EAC9C,CAAC;EAED,IAAME,yBAAyB,GAAG,SAA5BA,yBAAyBA,CAAA,EAAoC;IACjE,IAAMC,YAAuC,GAAG,CAAC,CAAC;IAElDxB,YAAY,CAACyB,OAAO,CAAC,UAACtB,WAAW,EAAK;MACpC,IAAIqB,YAAY,CAACrB,WAAW,CAACT,QAAQ,CAAC,EAAE;QACtC8B,YAAY,CAACrB,WAAW,CAACT,QAAQ,CAAC,IAAIS,WAAW,CAACX,MAAM;MAC1D,CAAC,MAAM;QACLgC,YAAY,CAACrB,WAAW,CAACT,QAAQ,CAAC,GAAGS,WAAW,CAACX,MAAM;MACzD;IACF,CAAC,CAAC;IAEF,OAAOgC,YAAY;EACrB,CAAC;EAGD,IAAME,KAAyB,GAAG;IAChC1B,YAAY,EAAZA,YAAY;IACZE,cAAc,EAAdA,cAAc;IACdS,iBAAiB,EAAjBA,iBAAiB;IACjBO,cAAc,EAAdA,cAAc;IACdG,gBAAgB,EAAhBA,gBAAgB;IAChBC,UAAU,EAAVA,UAAU;IACVC,yBAAyB,EAAzBA;EACF,CAAC;EAED,OACE3C,IAAA,CAACC,cAAc,CAAC8C,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAAtC,QAAA,EAAEA;EAAQ,CAA0B,CAAC;AAE/E,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}